# Routing
## 1. Giới thiệu
- Routing trong Angular cho phép điều hướng giữa các thành phần khác nhau trong ứng dụng. Nó giúp quản lý các URL và hiển thị các thành phần tương ứng dựa trên URL hiện tại.
- Angular Router là một module mạnh mẽ cho phép bạn định nghĩa các tuyến đường (routes) trong ứng dụng của mình.
- Trong Angular nhờ routing có thể xây dựng các ứng dụng một trang (Single Page Applications - SPA) và ứng dụng đa trang (Multi-Page Applications - MPA).

## 2. Cấu hình Routing cơ bản

Để cấu hình routing trong Angular, bạn cần định nghĩa các tuyến đường (routes) trong ứng dụng của mình. Các tuyến đường này sẽ ánh xạ các URL đến các thành phần tương ứng.

### 2.1. Định nghĩa Routes

Trong Angular, bạn có thể định nghĩa các routes trong một file riêng biệt, thường là `app.routes.ts`. Dưới đây là một ví dụ về cách định nghĩa các routes:

```typescript
import { Routes } from "@angular/router";
import { TaskComponent } from "./tasks/task/task.component";
import { NoTaskComponent } from "./tasks/no-task/no-task.component";

export const routes: Routes = [
  {
    path: "", // <domain>/
    component: NoTaskComponent,
  },
  {
    path: "tasks", // <domain>/tasks
    component: TaskComponent,
  },
  {
    path: "**",
    component: ErrorComponent
  }
];
```
> Nên định nghĩa một component ErrorComponent để hiển thị thông báo lỗi khi không tìm thấy route ở cuối cùng (mức ưu tiên thấp nhất)

### 2.2. Cấu hình Config cho `main.ts`

Sau khi định nghĩa các routes, bạn cần cấu hình bật Router rồi import vào trong `providers` bằng cách tạo `app.config.ts`:

```typescript
import { provideRouter } from "@angular/router";
import { ApplicationConfig } from "@angular/core";
import { routes } from "./app.routes";

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes) // Cấu hình Router, cho phép điều hướng giữa các thành phần
  ],
};
```
Sau đó thêm cấu hình vào trong `main.ts`:

```typescript
import { bootstrapApplication } from "@angular/platform-browser";

import { AppComponent } from "./app/app.component";
import { appConfig } from "./app/app.config";

bootstrapApplication(AppComponent, appConfig).catch((err) =>
  console.error(err)
);

```

### 2.3. Sử dụng `<router-outlet>`
Router Outlet là một chỉ thị trong Angular cho phép bạn hiển thị các thành phần tương ứng với các tuyến đường đã định nghĩa. Để sử dụng Router Outlet, bạn cần thêm nó vào trong template của thành phần cha.

Ví dụ: `app.component.html`

```html
<app-header />

<main>
  <app-users />

  <div>
    <router-outlet />
  </div>
</main>

```

Sau đó import `RouterOutlet` vào trong `component` đang sử dụng
```ts
import { Component } from '@angular/core';

import { HeaderComponent } from './header/header.component';
import { UsersComponent } from './users/users.component';
import { RouterOutlet } from '@angular/router';

@Component({
  selector: 'app-root',
  standalone: true,
  templateUrl: './app.component.html',
  styleUrl: './app.component.css',
  imports: [HeaderComponent, UsersComponent, RouterOutlet],
})
export class AppComponent {}
```

> Khi người dùng điều hướng đến một tuyến đường cụ thể, Angular sẽ tự động thay thế nội dung của Router Outlet bằng thành phần tương ứng với tuyến đường đó. (Chỉ hiển thị một thành phần `Router Outlet` tại một thời điểm, còn tất cả các thẻ khác không phải `Router Outlet` vẫn sẽ được giữ nguyên).


## 3. Routing nâng cao
### 3.1. Điều hướng giữa các thành phần
Thông thường thẻ `a` sẽ được sử dụng để điều hướng giữa các thành phần trong web bằng thuộc tính `href`. Tuy nhiên nó sẽ làm web bị tải lại toàn bộ trang và sẽ mất đi trạng thái của ứng dụng. Vì thế trong Angular, bạn có thể sử dụng thuộc tính `routerLink` để chỉ định tuyến đường mà bạn muốn điều hướng đến mà không làm mất đi trạng thái của ứng dụng.
Ví dụ:

```html
<a routerLink="/tasks">Đi đến trang Tasks</a>
```

Sau đó, trong `component` của template này, ta import thêm `RouterLink` vào trong `component` đang sử dụng
```ts
import { Component } from '@angular/core';

import { HeaderComponent } from './header/header.component';
import { UsersComponent } from './users/users.component';
import { RouterLink } from '@angular/router';

@Component({
  selector: 'app-root',
  standalone: true,
  templateUrl: './app.component.html',
  styleUrl: './app.component.css',
  imports: [HeaderComponent, UsersComponent, RouterLink],
})
export class AppComponent {}

```

> Khi người dùng nhấp vào liên kết này, Angular sẽ điều hướng đến tuyến đường `/tasks` và hiển thị thành phần tương ứng với tuyến đường đó trong Router Outlet.
