# Http request & Handling response
## 1. Giới thiệu
- **HttpClient** là một dịch vụ trong Angular giúp bạn thực hiện các yêu cầu HTTP (GET, POST, PUT, DELETE, v.v.) một cách dễ dàng và hiệu quả.

## 2. Cách sử dụng HttpClient

- Để sử dụng HttpClient, truớc tiên cần thêm `provideHttpClient` vào danh sách các provider trong ứng dụng của bạn (thường đặt trong main.ts đối với `standalone components` hoặc trong app.module.ts (@NgModule) đối với các ứng dụng không phải standalone, module).

> Ví dụ Trong file `main.ts` thêm tùy chọn providers `provideHttpClient` vào config.
  ```ts
  import { bootstrapApplication } from '@angular/platform-browser';
  import { AppComponent } from './app/app.component';
  import { appConfig } from './app/app.config';
  import { provideHttpClient } from "@angular/common/http";

  bootstrapApplication(AppComponent, {
    providers: [
      appConfig.providers,
      provideHttpClient()
    ]
  });
  ```

- Sau đó, inject `HttpClient` vào component hoặc service của bạn để sử dụng.
  ```ts
  import { HttpClient } from '@angular/common/http';
  import { Component, inject } from '@angular/core';

  @Component({
    selector: 'app-example',
    templateUrl: './example.component.html',
  })
  export class ExampleComponent {
    private httpClient = inject(HttpClient);

    constructor() {
      this.httpClient.get<type>('/api/data').subscribe({
        next: (data) => {
          console.log(data);
        },
        error: (error) => {
          console.error(error);
        }
      });
    }
  }
  ```

> Vì method `get` tạo ra một Observable, bạn có thể sử dụng các toán tử RxJS để xử lý dữ liệu trả về một cách linh hoạt hơn. Muốn lọc dữ liệu, bạn có thể sử dụng toán tử `map`:
  ```ts
  import { HttpClient } from '@angular/common/http';
  import { Component, inject } from '@angular/core';
  import { map } from 'rxjs/operators';

  @Component({
    selector: 'app-example',
    templateUrl: './example.component.html',
  })
  export class ExampleComponent {
    private httpClient = inject(HttpClient);

    constructor() {
      this.httpClient.get<type>('/api/data').pipe(
        map((data) => {
          // Xử lý dữ liệu ở đây
          return data;
        })
      ).subscribe({
        next: (data) => {
          console.log(data);
        },
        error: (error) => {
          console.error(error);
        }
      });
    }
  }
  ```

> Vì là 1 observable được `subcribe` nên có thể hủy đăng ký (unsubscribe) khi không còn cần thiết, giúp tránh rò rỉ bộ nhớ bằng cách sử dụng `destroyRef` hoặc `ngOnDestroy` trong component.